;try {
/* module-key = 'com.ca.confluence.plugins.nps.nps-slider:like-unlike-web-resource', location = 'assets/like-unlike/js/jquery.plugin.js' */
(function(){var a=false;window.JQClass=function(){};JQClass.classes={};JQClass.extend=function b(g){var e=this.prototype;a=true;var d=new this();a=false;for(var c in g){d[c]=typeof g[c]=="function"&&typeof e[c]=="function"?(function(h,i){return function(){var k=this._super;this._super=function(l){return e[h].apply(this,l||[])};var j=i.apply(this,arguments);this._super=k;return j}})(c,g[c]):g[c]}function f(){if(!a&&this._init){this._init.apply(this,arguments)}}f.prototype=d;f.prototype.constructor=f;f.extend=b;return f}})();(function($){JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,(this.regionalOptions&&this.regionalOptions[""])||{});var jqName=camelCase(this.name);$[jqName]=this;$.fn[jqName]=function(options){var otherArgs=Array.prototype.slice.call(arguments,1);if($[jqName]._isNotChained(options,otherArgs)){return $[jqName][options].apply($[jqName],[this[0]].concat(otherArgs))}return this.each(function(){if(typeof options==="string"){if(options[0]==="_"||!$[jqName][options]){throw"Unknown method: "+options}$[jqName][options].apply($[jqName],[this].concat(otherArgs))}else{$[jqName]._attach(this,options)}})}},setDefaults:function(options){$.extend(this.defaultOptions,options||{})},_isNotChained:function(name,otherArgs){if(name==="option"&&(otherArgs.length===0||(otherArgs.length===1&&typeof otherArgs[0]==="string"))){return true}return $.inArray(name,this._getters)>-1},_attach:function(elem,options){elem=$(elem);if(elem.hasClass(this._getMarker())){return}elem.addClass(this._getMarker());options=$.extend({},this.defaultOptions,this._getMetadata(elem),options||{});var inst=$.extend({name:this.name,elem:elem,options:options},this._instSettings(elem,options));elem.data(this.name,inst);this._postAttach(elem,inst);this.option(elem,options)},_instSettings:function(elem,options){return{}},_postAttach:function(elem,inst){},_getMetadata:function(elem){try{var data=elem.data(this.name.toLowerCase())||"";data=data.replace(/'/g,'"');data=data.replace(/([a-zA-Z0-9]+):/g,function(match,group,i){var count=data.substring(0,i).match(/"/g);return(!count||count.length%2===0?'"'+group+'":':group+":")});data=$.parseJSON("{"+data+"}");for(var name in data){var value=data[name];if(typeof value==="string"&&value.match(/^new Date\((.*)\)$/)){data[name]=eval(value)}}return data}catch(e){return{}}},_getInst:function(elem){return $(elem).data(this.name)||{}},option:function(elem,name,value){elem=$(elem);var inst=elem.data(this.name);if(!name||(typeof name==="string"&&value==null)){var options=(inst||{}).options;return(options&&name?options[name]:options)}if(!elem.hasClass(this._getMarker())){return}var options=name||{};if(typeof name==="string"){options={};options[name]=value}this._optionsChanged(elem,inst,options);$.extend(inst.options,options)},_optionsChanged:function(elem,inst,options){},destroy:function(elem){elem=$(elem);if(!elem.hasClass(this._getMarker())){return}this._preDestroy(elem,this._getInst(elem));elem.removeData(this.name).removeClass(this._getMarker())},_preDestroy:function(elem,inst){}});function camelCase(name){return name.replace(/-([a-z])/g,function(match,group){return group.toUpperCase()})}$.JQPlugin={createPlugin:function(superClass,overrides){if(typeof superClass==="object"){overrides=superClass;superClass="JQPlugin"}superClass=camelCase(superClass);var className=camelCase(overrides.name);JQClass.classes[className]=JQClass.classes[superClass].extend(overrides);new JQClass.classes[className]()}}})(jQuery);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}

;
;try {
/* module-key = 'com.ca.confluence.plugins.nps.nps-slider:like-unlike-web-resource', location = 'assets/like-unlike/js/jquery.maxlength.js' */
(function(b){var a="maxlength";b.JQPlugin.createPlugin({name:a,defaultOptions:{max:200,truncate:true,showFeedback:true,feedbackTarget:null,onFull:null},regionalOptions:{"":{feedbackText:"{r} characters remaining ({m} maximum)",overflowText:"{o} characters too many ({m} maximum)"}},_getters:["curLength"],_feedbackClass:a+"-feedback",_fullClass:a+"-full",_overflowClass:a+"-overflow",_disabledClass:a+"-disabled",_instSettings:function(d,c){return{feedbackTarget:b([])}},_postAttach:function(c,d){c.on("keypress."+d.name,function(f){if(!d.options.truncate){return true}var e=String.fromCharCode(f.charCode==undefined?f.keyCode:f.charCode);return(f.ctrlKey||f.metaKey||e=="\u0000"||b(this).val().length<d.options.max)}).on("keyup."+d.name,function(){b.maxlength._checkLength(c)})},_optionsChanged:function(d,e,c){b.extend(e.options,c);if(e.feedbackTarget.length>0){if(e.hadFeedbackTarget){e.feedbackTarget.empty().val("").removeClass(this._feedbackClass+" "+this._fullClass+" "+this._overflowClass)}else{e.feedbackTarget.remove()}e.feedbackTarget=b([])}if(e.options.showFeedback){e.hadFeedbackTarget=!!e.options.feedbackTarget;if(b.isFunction(e.options.feedbackTarget)){e.feedbackTarget=e.options.feedbackTarget.apply(d[0],[])}else{if(e.options.feedbackTarget){e.feedbackTarget=b(e.options.feedbackTarget)}else{e.feedbackTarget=b("<span></span>").insertAfter(d)}}e.feedbackTarget.addClass(this._feedbackClass)}d.off("mouseover."+e.name+" focus."+e.name+"mouseout."+e.name+" blur."+e.name);if(e.options.showFeedback=="active"){d.on("mouseover."+e.name,function(){e.feedbackTarget.css("visibility","visible")}).on("mouseout."+e.name,function(){if(!e.focussed){e.feedbackTarget.css("visibility","hidden")}}).on("focus."+e.name,function(){e.focussed=true;e.feedbackTarget.css("visibility","visible")}).on("blur."+e.name,function(){e.focussed=false;e.feedbackTarget.css("visibility","hidden")});e.feedbackTarget.css("visibility","hidden")}this._checkLength(d)},curLength:function(d){var f=this._getInst(d);var e=d.val();var c=e.replace(/\r\n/g,"~~").replace(/\n/g,"~~").length;return{used:c,remaining:f.options.max-c}},_checkLength:function(h){var k=this._getInst(h);var j=h.val();var c=j.replace(/\r\n/g,"~~").replace(/\n/g,"~~").length;h.toggleClass(this._fullClass,c>=k.options.max).toggleClass(this._overflowClass,c>k.options.max);if(c>k.options.max&&k.options.truncate){var f=h.val().split(/\r\n|\n/);j="";var g=0;while(j.length<k.options.max&&g<f.length){j+=f[g].substring(0,k.options.max-j.length)+"\r\n";g++}h.val(j.substring(0,k.options.max));h[0].scrollTop=h[0].scrollHeight;c=k.options.max}k.feedbackTarget.toggleClass(this._fullClass,c>=k.options.max).toggleClass(this._overflowClass,c>k.options.max);var d=(c>k.options.max?k.options.overflowText:k.options.feedbackText).replace(/\{c\}/,c).replace(/\{m\}/,k.options.max).replace(/\{r\}/,k.options.max-c).replace(/\{o\}/,c-k.options.max);try{k.feedbackTarget.text(d)}catch(l){}try{k.feedbackTarget.val(d)}catch(l){}if(c>=k.options.max&&b.isFunction(k.options.onFull)){k.options.onFull.apply(h,[c>k.options.max])}},enable:function(c){c=b(c);if(!c.hasClass(this._getMarker())){return}var d=this._getInst(c);c.prop("disabled",false).removeClass(d.name+"-disabled");d.feedbackTarget.removeClass(d.name+"-disabled")},disable:function(c){c=b(c);if(!c.hasClass(this._getMarker())){return}var d=this._getInst(c);c.prop("disabled",true).addClass(d.name+"-disabled");d.feedbackTarget.addClass(d.name+"-disabled")},_preDestroy:function(c,d){if(d.feedbackTarget.length>0){if(d.hadFeedbackTarget){d.feedbackTarget.empty().val("").css("visibility","visible").removeClass(this._feedbackClass+" "+this._fullClass+" "+this._overflowClass)}else{d.feedbackTarget.remove()}}c.removeClass(this._fullClass+" "+this._overflowClass).off("."+d.name)}})})(jQuery);
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}

;
;try {
/* module-key = 'com.ca.confluence.plugins.nps.nps-slider:like-unlike-web-resource', location = 'assets/like-unlike/js/like-unlike.js' */
AJS.toInit(function(){$("#likeUnlikeSubmit").click(a);$("#likeUnlikeThank").click(function(){$("#likeUnlikeThankDiv").hide();$("#likeUnlikeMainDiv").show()});$("#likeUnlikeComment").maxlength({max:255,feedbackTarget:"#character-counter",feedbackText:"{r}/{m}"});function a(e){e.preventDefault();$("#likeUnlikeSubmit").hide();$("#likeUnlikeLoader").show();var d=AJS.$("input[name=feedback]:checked").val();if(d=="yes"){c()}else{b()}}function c(){jQuery.ajax({type:"POST",url:AJS.params.contextPath+"/rest/ca/nps/latest/content/"+AJS.params.spaceKey+"/"+AJS.params.pageId+"/like",data:{comment:AJS.$("#likeUnlikeComment").val()},dataType:"json"}).done(function(d){$("#likeUnlikeMainDiv").hide();$("#likeUnlikeThankDiv").show();$("#feedbackYes").prop("checked",false).prop("disabled",true);$("#feedbackNo").prop("checked",true).prop("disabled",false);$("#likes-value").html(d.likes);$("#unlikes-value").html(d.unlikes);$("#likeUnlikeSubmit").show();$("#likeUnlikeLoader").hide()})}function b(){jQuery.ajax({type:"POST",url:AJS.params.contextPath+"/rest/ca/nps/latest/content/"+AJS.params.spaceKey+"/"+AJS.params.pageId+"/unlike",data:{comment:AJS.$("#likeUnlikeComment").val()},dataType:"json"}).done(function(d){$("#likeUnlikeMainDiv").hide();$("#likeUnlikeThankDiv").show();$("#feedbackNo").prop("checked",false).prop("disabled",true);$("#feedbackYes").prop("checked",true).prop("disabled",false);$("#likes-value").html(d.likes);$("#unlikes-value").html(d.unlikes);$("#likeUnlikeSubmit").show();$("#likeUnlikeLoader").hide()})}});
} catch (err) {
    if (console && console.log && console.error) {
        console.log("Error running batched script.");
        console.error(err);
    }
}

;
